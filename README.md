# 🌱 Gestão de Colheita de Cana - Projeto Python para Agronegócio

## 📌 Problema Abordado

No Brasil, a mecanização da colheita de cana-de-açúcar ainda causa grandes perdas — até 15% da produção — o que representa prejuízos milionários. Este sistema foi desenvolvido para simular uma **gestão digital simples**, permitindo o controle e análise de safras e perdas, auxiliando o produtor rural na tomada de decisão.

---

## 💡 Solução Proposta

Criamos um sistema em Python que permite:

- Registrar safras com dados da fazenda, área, produtividade e tipo de colheita
- Calcular automaticamente a perda estimada (manual ou mecanizada)
- Salvar dados em arquivo JSON e gerar relatório em `.txt`
- Conectar-se ao banco de dados Oracle e registrar as safras
- Analisar os dados com a biblioteca `pandas` para tomada de decisões

---

## 🛠️ Funcionalidades

| Função                            | Descrição                                                                 |
|----------------------------------|---------------------------------------------------------------------------|
| `registrar_safra()`              | Solicita os dados e registra uma nova safra                               |
| `calcular_perda()`               | Calcula a perda com base no tipo de colheita                              |
| `salvar_em_json()`               | Salva os registros em arquivo JSON                                        |
| `gerar_relatorio()`              | Cria um relatório `.txt` das perdas                                       |
| `salvar_banco()`                 | Salva os dados no banco Oracle                                            |
| `analisar_dados()`               | Lê os dados com `pandas` e apresenta estatísticas                         |

---

## 🧱 Conteúdos Aplicados (Python Capítulos 3 a 6)

- ✅ Subalgoritmos (funções com parâmetros)
- ✅ Estruturas de dados: listas, dicionários
- ✅ Manipulação de arquivos: `.json`, `.txt`
- ✅ Conexão com banco de dados Oracle
- ✅ Biblioteca externa `pandas` para análise de dados

---

## 💻 Como Executar

1. Instale os pacotes necessários:
   ```bash
   pip install pandas oracledb
   ```

2. Execute o programa:
   ```bash
   python3 main.py
   ```

3. Use o menu interativo para navegar pelas opções.

---

## 🧐 Exemplo de uso da análise (opção 5):

```text
📊 Análise de Safras:
       fazenda  area  produtividade         tipo  perda
0  Santa Luzia    50              90  mecanizada  675.0

Média de perda: 675.0 toneladas
Maior perda: 675.0 toneladas
Safra com maior perda:
       fazenda  area  produtividade         tipo  perda
0  Santa Luzia    50              90  mecanizada  675.0
```

---

## 📂 Estrutura do Projeto

```
agronegocio_cana/
├── main.py                # Código principal
├── dados/
│   ├── safras.json        # Registros salvos
│   └── relatorio.txt      # Relatório gerado
```

---

## 🔮 Banco Oracle

Execute este script SQL para criar a tabela:

```sql
CREATE TABLE safra (
    id NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
    fazenda VARCHAR2(100),
    area_ha NUMBER(10,2),
    produtividade_t NUMBER(10,2),
    tipo_colheita VARCHAR2(20),
    perda_estimativa NUMBER(10,2),
    PRIMARY KEY (id)
);
```

---

## ✨ Contribuidores

- Marcelo Tadaieski, 
